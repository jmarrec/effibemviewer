{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#EffiBEM-Viewer","title":"EffiBEM Viewer","text":"<p>A 3D viewer for OpenStudio building energy models using GLTF and Three.js, that can create a standalone HTML page or be embedded into a Jupyter Notebook.</p> <p>A Jupyter Notebook Gltf_notebook.ipynb can serve as a small demonstration of the features.</p> <p></p> <ul> <li>Documentation: https://jmarrec.github.io/effibemviewer</li> <li>GitHub: https://github.com/jmarrec/effibemviewer</li> <li>PyPI: https://pypi.org/project/effibemviewer/</li> </ul> <p>This is free software (MIT License) contributed by EffiBEM.</p> <p>Leveraging software, EffiBEM specializes in providing new ways to streamline your workflows and create new tools that work with limited inputs for your specific applications. We also offer support and training services on BEM simulation engines (OpenStudio and EnergyPlus).</p>"},{"location":"api/","title":"Modules","text":""},{"location":"api/#API-Reference","title":"API Reference","text":""},{"location":"api/#effibemviewer.gltf.create_example_model","title":"<code>create_example_model(include_geometry_diagnostics: bool = False) -&gt; openstudio.model.Model</code>","text":"<p>Create an example OpenStudio model with two stories and optionally geometry diagnostics.</p> <p>Parameters:</p> Name Type Description Default <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, will reverse a surface on purpose</p> <code>False</code> <p>Returns:</p> Name Type Description <code>model</code> <code>Model</code> <p>Example model</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def create_example_model(include_geometry_diagnostics: bool = False) -&gt; openstudio.model.Model:\n    \"\"\"Create an example OpenStudio model with two stories and optionally geometry diagnostics.\n\n    Args:\n        include_geometry_diagnostics: If True, will reverse a surface on purpose\n\n    Returns:\n        model (openstudio.model.Model): Example model\n    \"\"\"\n    model = openstudio.model.exampleModel()\n    space = model.getSpaceByName(\"Space 1\").get()\n    # Move space type assignment from Building to Space, so I can have one without it\n    space_type = space.spaceType().get()\n    [space.setSpaceType(space_type) for space in model.getSpaces()]\n    b = model.getBuilding()\n    b.setNorthAxis(45)\n    b.resetSpaceType()\n\n    space_clone = space.clone(model).to_Space().get()\n    space_clone.setName(\"Space Level 2\")\n    space_clone.resetSpaceType()\n    # Set it above the original space for better viewing\n    z = space.boundingBox().maxZ().get()\n    assert z == 3.0\n    space_clone.setZOrigin(z)\n    story2 = openstudio.model.BuildingStory(model)\n    story2.setName(\"Second Story\")\n    story2.setNominalZCoordinate(z)\n    story2.setNominalFloortoFloorHeight(z)\n    space_clone.setBuildingStory(story2)\n\n    if include_geometry_diagnostics:\n        surface = next(s for s in space_clone.surfaces() if s.surfaceType() == \"Wall\")\n        # Make one surface incorrectly oriented\n        surface.setVertices(openstudio.reverse(surface.vertices()))\n\n    return model\n</code></pre>"},{"location":"api/#effibemviewer.gltf.display_model","title":"<code>display_model(model: openstudio.model.Model, height: str = '500px', use_iframe: bool = False, include_geometry_diagnostics: bool = False) -&gt; HTML | IFrame</code>","text":"<p>Display an OpenStudio model in a Jupyter notebook.</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to render</p> required <code>height</code> <code>str</code> <p>CSS height value (default \"500px\")</p> <code>'500px'</code> <code>use_iframe</code> <code>bool</code> <p>If True, use IFrame for nbclassic compatibility</p> <code>False</code> <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info</p> <code>False</code> <p>Returns:</p> Type Description <code>HTML | IFrame</code> <p>IPython display object (HTML or IFrame)</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def display_model(\n    model: openstudio.model.Model,\n    height: str = \"500px\",\n    use_iframe: bool = False,\n    include_geometry_diagnostics: bool = False,\n) -&gt; HTML | IFrame:\n    \"\"\"Display an OpenStudio model in a Jupyter notebook.\n\n    Args:\n        model: OpenStudio model to render\n        height: CSS height value (default \"500px\")\n        use_iframe: If True, use IFrame for nbclassic compatibility\n        include_geometry_diagnostics: If True, include geometry diagnostic info\n\n    Returns:\n        IPython display object (HTML or IFrame)\n    \"\"\"\n    fragment = model_to_gltf_html(\n        model=model,\n        height=height,\n        pretty_json=False,\n        include_geometry_diagnostics=include_geometry_diagnostics,\n        embedded=True,\n        loader_mode=False,\n        script_only=True,\n    )\n    if not use_iframe:\n        from IPython.display import HTML\n\n        return HTML(fragment)\n\n    import base64\n\n    from IPython.display import IFrame\n\n    full_html = f\"\"\"&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n  &lt;/head&gt;\n  &lt;body style='margin:0'&gt;\n{fragment}\n  &lt;/body&gt;\n&lt;/html&gt;\"\"\"\n    data_url = f\"data:text/html;base64,{base64.b64encode(full_html.encode()).decode()}\"\n    # Parse height for IFrame (needs integer pixels)\n    h = int(height.replace(\"px\", \"\")) if height.endswith(\"px\") else 500\n    return IFrame(src=data_url, width=\"100%\", height=h)\n</code></pre>"},{"location":"api/#effibemviewer.gltf.generate_loader_html","title":"<code>generate_loader_html(height: str = '100vh', include_geometry_diagnostics: bool = False, embedded: bool = True, cdn: bool = False) -&gt; str</code>","text":"<p>Generate a standalone HTML page with a file input for loading GLTF files.</p> <p>Parameters:</p> Name Type Description Default <code>height</code> <code>str</code> <p>CSS height value (default \"100vh\" for full viewport)</p> <code>'100vh'</code> <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, enable geometry diagnostic display</p> <code>False</code> <code>embedded</code> <code>bool</code> <p>If True, inline the JS library. If False, reference external JS file.</p> <code>True</code> <code>cdn</code> <code>bool</code> <p>If True, reference JS/CSS from jsDelivr CDN (overrides embedded)</p> <code>False</code> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>Full HTML page with file input for loading GLTF files</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def generate_loader_html(\n    height: str = \"100vh\",\n    include_geometry_diagnostics: bool = False,\n    embedded: bool = True,\n    cdn: bool = False,\n) -&gt; str:\n    \"\"\"Generate a standalone HTML page with a file input for loading GLTF files.\n\n    Args:\n        height: CSS height value (default \"100vh\" for full viewport)\n        include_geometry_diagnostics: If True, enable geometry diagnostic display\n        embedded: If True, inline the JS library. If False, reference external JS file.\n        cdn: If True, reference JS/CSS from jsDelivr CDN (overrides embedded)\n\n    Returns:\n        str: Full HTML page with file input for loading GLTF files\n    \"\"\"\n    template = env.get_template(\"effibemviewer.html.j2\")\n\n    html = template.render(\n        height=height,\n        gltf_data=None,\n        indent=None,\n        include_geometry_diagnostics=include_geometry_diagnostics,\n        embedded=embedded,\n        loader_mode=True,\n        script_only=False,\n        cdn_base_url=CDN_BASE_URL if cdn else None,\n    )\n    return html\n</code></pre>"},{"location":"api/#effibemviewer.gltf.get_css_library","title":"<code>get_css_library(height: str = '100vh') -&gt; str</code>","text":"<p>Get the EffiBEMViewer CSS library content.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The CSS library content</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def get_css_library(height: str = \"100vh\") -&gt; str:\n    \"\"\"Get the EffiBEMViewer CSS library content.\n\n    Returns:\n        str: The CSS library content\n    \"\"\"\n    template = env.get_template(\"effibemviewer.css.j2\")\n    return template.render(height=height)\n</code></pre>"},{"location":"api/#effibemviewer.gltf.get_js_library","title":"<code>get_js_library() -&gt; str</code>","text":"<p>Get the EffiBEMViewer JavaScript library content.</p> <p>Returns:</p> Name Type Description <code>str</code> <code>str</code> <p>The JavaScript library content (uses bare specifiers, requires importmap)</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def get_js_library() -&gt; str:\n    \"\"\"Get the EffiBEMViewer JavaScript library content.\n\n    Returns:\n        str: The JavaScript library content (uses bare specifiers, requires importmap)\n    \"\"\"\n    template = env.get_template(\"effibemviewer.js.j2\")\n    return template.render()\n</code></pre>"},{"location":"api/#effibemviewer.gltf.model_to_gltf_html","title":"<code>model_to_gltf_html(model: openstudio.model.Model, height: str = '100vh', pretty_json: bool = False, include_geometry_diagnostics: bool = False, embedded: bool = True, loader_mode: bool = False, script_only: bool = False, cdn: bool = False) -&gt; str</code>","text":"<p>Generate a full standalone HTML page for viewing an OpenStudio model.</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to render</p> required <code>height</code> <code>str</code> <p>CSS height value (default \"100vh\" for full viewport)</p> <code>'100vh'</code> <code>pretty_json</code> <code>bool</code> <p>If True, format JSON with indentation</p> <code>False</code> <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info</p> <code>False</code> <code>embedded</code> <code>bool</code> <p>If True, inline the JS library. If False, reference external JS file.</p> <code>True</code> <code>loader_mode</code> <code>bool</code> <p>If True, generate file-input loader instead of embedding model data</p> <code>False</code> <code>script_only</code> <code>bool</code> <p>If True, generate only the script fragment (for Jupyter)</p> <code>False</code> <code>cdn</code> <code>bool</code> <p>If True, reference JS/CSS from jsDelivr CDN (overrides embedded)</p> <code>False</code> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def model_to_gltf_html(\n    model: openstudio.model.Model,\n    height: str = \"100vh\",\n    pretty_json: bool = False,\n    include_geometry_diagnostics: bool = False,\n    embedded: bool = True,\n    loader_mode: bool = False,\n    script_only: bool = False,\n    cdn: bool = False,\n) -&gt; str:\n    \"\"\"Generate a full standalone HTML page for viewing an OpenStudio model.\n\n    Args:\n        model: OpenStudio model to render\n        height: CSS height value (default \"100vh\" for full viewport)\n        pretty_json: If True, format JSON with indentation\n        include_geometry_diagnostics: If True, include geometry diagnostic info\n        embedded: If True, inline the JS library. If False, reference external JS file.\n        loader_mode: If True, generate file-input loader instead of embedding model data\n        script_only: If True, generate only the script fragment (for Jupyter)\n        cdn: If True, reference JS/CSS from jsDelivr CDN (overrides embedded)\n    \"\"\"\n    data = model_to_gltf_json(model=model, include_geometry_diagnostics=include_geometry_diagnostics)\n\n    template = env.get_template(\"effibemviewer.html.j2\")\n    indent = 2 if pretty_json else None\n\n    return template.render(\n        height=height,\n        gltf_data=data,\n        indent=indent,\n        include_geometry_diagnostics=include_geometry_diagnostics,\n        embedded=embedded,\n        loader_mode=loader_mode,\n        script_only=script_only,\n        cdn_base_url=CDN_BASE_URL if cdn else None,\n    )\n</code></pre>"},{"location":"api/#effibemviewer.gltf.model_to_gltf_json","title":"<code>model_to_gltf_json(model: openstudio.model.Model, include_geometry_diagnostics: bool = False) -&gt; dict</code>","text":"<p>Convert an OpenStudio model to GLTF JSON format (dict).</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to convert</p> required <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info in the output</p> <code>False</code> <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>GLTF JSON data representing the model</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If geometry diagnostics are requested but not supported by the OpenStudio version</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def model_to_gltf_json(model: openstudio.model.Model, include_geometry_diagnostics: bool = False) -&gt; dict:\n    \"\"\"Convert an OpenStudio model to GLTF JSON format (dict).\n\n    Args:\n        model: OpenStudio model to convert\n        include_geometry_diagnostics: If True, include geometry diagnostic info in the output\n\n    Returns:\n        dict: GLTF JSON data representing the model\n\n    Raises:\n        ValueError: If geometry diagnostics are requested but not supported by the OpenStudio version\n    \"\"\"\n    ft = openstudio.gltf.GltfForwardTranslator()\n    if include_geometry_diagnostics:\n        if not callable(getattr(openstudio.gltf.GltfForwardTranslator, \"setIncludeGeometryDiagnostics\", None)):\n            raise ValueError(\n                \"Geometry diagnostics not supported in this version of OpenStudio. Please update to use this feature.\"\n            )\n        ft.setIncludeGeometryDiagnostics(True)\n    return ft.modelToGLTFJSON(model)\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#Changelog","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#Unreleased","title":"Unreleased","text":""},{"location":"changelog/#020---2026-02-05","title":"0.2.0 - 2026-02-05","text":""},{"location":"changelog/#Added","title":"Added","text":"<ul> <li>Reusable <code>EffiBEMViewer</code> JavaScript class with public API</li> <li><code>runFromJSON()</code>, <code>runFromFile()</code>, <code>runFromFileObject()</code> convenience functions</li> <li><code>--loader</code> CLI mode to generate file-input HTML for loading local GLTF files</li> <li><code>--embedded</code> CLI flag to inline JS/CSS vs external files</li> <li>Header with EffiBEM logo</li> <li>CDN-ready distribution in <code>public/</code> folder (embedded and cdn variants)</li> <li>Pre-commit hook to auto-rebuild dist when templates change</li> </ul>"},{"location":"changelog/#Changed","title":"Changed","text":"<ul> <li>Upgraded Three.js from 0.160 to 0.182</li> <li>Switched CDN from unpkg to jsDelivr</li> <li>Refactored templates into separate JS and CSS files</li> </ul>"},{"location":"changelog/#012---2026-02-05","title":"0.1.2 - 2026-02-05","text":"<ul> <li>docs update</li> </ul>"},{"location":"changelog/#011---2026-02-05","title":"0.1.1 - 2026-02-05","text":"<ul> <li>Readme update</li> </ul>"},{"location":"changelog/#010---2026-02-05","title":"0.1.0 - 2026-02-05","text":""},{"location":"changelog/#Added_1","title":"Added","text":"<ul> <li>Initial release</li> <li>3D GLTF viewer for OpenStudio models using Three.js</li> <li>Jupyter notebook integration with <code>display_model()</code></li> <li>Surface filters (floors, walls, roofs, windows, doors, shading, partitions)</li> <li>Render by: Surface Type, Boundary, Construction, Thermal Zone, Space Type, Building Story</li> <li>Show Story filter</li> <li>Geometry diagnostics support (convex, correctly oriented, space convex, space enclosed)</li> <li>Click-to-select with info panel</li> <li>Edge/wireframe rendering</li> <li>Back face coloring for orientation detection</li> <li>X, Y, Z axes display</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#Contributing","title":"Contributing","text":"<p>Contributions are welcome, and they are greatly appreciated! Every little bit helps, and credit will always be given.</p>"},{"location":"contributing/#Types-of-Contributions","title":"Types of Contributions","text":""},{"location":"contributing/#Report-Bugs","title":"Report Bugs","text":"<p>Report bugs at https://github.com/jmarrec/effibemviewer/issues.</p> <p>If you are reporting a bug, please include:</p> <ul> <li>Your operating system name and version.</li> <li>Any details about your local setup that might be helpful in troubleshooting.</li> <li>Detailed steps to reproduce the bug.</li> </ul>"},{"location":"contributing/#Fix-Bugs","title":"Fix Bugs","text":"<p>Look through the GitHub issues for bugs. Anything tagged with \"bug\" and \"help wanted\" is open to whoever wants to implement it.</p>"},{"location":"contributing/#Implement-Features","title":"Implement Features","text":"<p>Look through the GitHub issues for features. Anything tagged with \"enhancement\" and \"help wanted\" is open to whoever wants to implement it.</p>"},{"location":"contributing/#Write-Documentation","title":"Write Documentation","text":"<p>EffiBEM Viewer could always use more documentation, whether as part of the official docs, in docstrings, or even on the web in blog posts, articles, and such.</p>"},{"location":"contributing/#Submit-Feedback","title":"Submit Feedback","text":"<p>The best way to send feedback is to file an issue at https://github.com/jmarrec/effibemviewer/issues.</p> <p>If you are proposing a feature:</p> <ul> <li>Explain in detail how it would work.</li> <li>Keep the scope as narrow as possible, to make it easier to implement.</li> <li>Remember that this is a volunteer-driven project, and that contributions   are welcome :)</li> </ul>"},{"location":"contributing/#Get-Started","title":"Get Started!","text":"<p>Ready to contribute? Here's how to set up <code>effibemviewer</code> for local development.</p> <ol> <li>Fork the <code>effibemviewer</code> repo on GitHub.</li> <li> <p>Clone your fork locally:</p> <pre><code>$ git clone git@github.com:your_name_here/effibemviewer.git\n</code></pre> </li> <li> <p>Install your local copy using poetry:</p> <pre><code>$ cd effibemviewer/\n$ poetry install\n</code></pre> </li> <li> <p>Create a branch for local development:</p> <pre><code>$ git checkout -b name-of-your-bugfix-or-feature\n</code></pre> </li> </ol> <p>Now you can make your changes locally.</p> <ol> <li> <p>When you're done making changes, check that your changes pass the tests:</p> <pre><code>$ poetry run pytest\n</code></pre> </li> <li> <p>Commit your changes and push your branch to GitHub:</p> <pre><code>$ git add .\n$ git commit -m \"Your detailed description of your changes.\"\n$ git push origin name-of-your-bugfix-or-feature\n</code></pre> </li> <li> <p>Submit a pull request through the GitHub website.</p> </li> </ol>"},{"location":"contributing/#Pull-Request-Guidelines","title":"Pull Request Guidelines","text":"<p>Before you submit a pull request, check that it meets these guidelines:</p> <ol> <li>The pull request should include tests.</li> <li>If the pull request adds functionality, the docs should be updated.</li> <li>The pull request should work for Python 3.10, 3.11, and 3.12.</li> </ol>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#Installation","title":"Installation","text":""},{"location":"installation/#Stable-release","title":"Stable release","text":"<p>To install EffiBEM Viewer, run this command in your terminal:</p> <pre><code>$ pip install effibemviewer\n</code></pre> <p>This is the preferred method to install EffiBEM Viewer, as it will always install the most recent stable release.</p> <p>If you don't have pip installed, this Python installation guide can guide you through the process.</p>"},{"location":"installation/#From-source","title":"From source","text":"<p>The source for EffiBEM Viewer can be downloaded from the Github repo.</p> <p>You can either clone the public repository:</p> <pre><code>$ git clone git://github.com/jmarrec/effibemviewer\n</code></pre> <p>Or download the tarball:</p> <pre><code>$ curl -OJL https://github.com/jmarrec/effibemviewer/tarball/master\n</code></pre> <p>Once you have a copy of the source, you can install it with:</p> <pre><code>$ pip install .\n</code></pre>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#Usage","title":"Usage","text":""},{"location":"usage/#In-a-Jupyter-Notebook","title":"In a Jupyter Notebook","text":"<p>To display an OpenStudio model in a Jupyter notebook:</p> <pre><code>import openstudio\nfrom effibemviewer import create_example_model, display_model\n\n# model = openstudio.model.exampleModel()\n# This helper creates a model with an incorrectly oriented surface and two stories\nmodel = create_example_model(include_geometry_diagnostics=True)\ndisplay_model(\n    model=model,\n    height=\"500px\",\n    use_iframe=False,\n    include_geometry_diagnostics=False\n)\n</code></pre> <p>Note: <code>use_iframe=True</code> is not needed unless you are using <code>jupyter nbclassic</code> (and not <code>notebook</code> (V7) or <code>lab</code>)</p> <p>Note: OpenStudio, as of 3.11.0, does NOT export geometry diagnostics in GLTF. I am adding this myself locally, but will upstream my changes.</p>"},{"location":"usage/#Generate-standalone-HTML","title":"Generate standalone HTML","text":"<p>To generate a standalone HTML file:</p> <pre><code>from effibemviewer import model_to_gltf_html\nfrom pathlib import Path\n\nhtml = model_to_gltf_html(model)\nPath(\"viewer.html\").write_text(html)\n</code></pre>"},{"location":"usage/#Command-Line","title":"Command Line","text":"<p>Generate an HTML viewer from the command line:</p> <pre><code>$ python -m effibemviewer --model mymodel.osm --output output.html\n</code></pre> <p>With geometry diagnostics enabled, and when <code>--model</code> is omitted it uses the <code>create_example_model</code></p> <pre><code>$ python -m effibemviewer --geometry-diagnostics --output output.html\n</code></pre>"},{"location":"usage/#JavaScript-API","title":"JavaScript API","text":"<p>The generated HTML exposes a JavaScript API that allows you to load and display GLTF models programmatically. This is useful if you want to integrate the viewer into your own web application or load models dynamically.</p>"},{"location":"usage/#Global-Functions","title":"Global Functions","text":"<p>Two convenience functions are exposed globally, matching the API of OpenStudio's <code>geometry_preview.html</code>:</p> <pre><code>// Load from a JSON object (GLTF data)\nrunFromJSON(gltfData, options);\n\n// Load from a URL (requires HTTP server, won't work with file://)\nrunFromFile(url, options);\n\n// Load from a File object (works with local files via &lt;input type=\"file\"&gt;)\nrunFromFileObject(file, options);\n</code></pre> <p>Options:</p> Option Type Default Description <code>containerId</code> string <code>'viewer'</code> ID of the container element <code>includeGeometryDiagnostics</code> boolean <code>false</code> Show geometry diagnostic controls <p>Example:</p> <pre><code>&lt;div id=\"viewer\" class=\"effibem-viewer\"&gt;\n  &lt;!-- Controls and info panel structure here --&gt;\n&lt;/div&gt;\n\n&lt;script type=\"module\"&gt;\n  // Assuming the viewer script is loaded...\n\n  // Load from a URL\n  runFromFile('./model.gltf', { includeGeometryDiagnostics: true });\n\n  // Or load from a JSON object\n  fetch('./model.gltf')\n    .then(r =&gt; r.json())\n    .then(data =&gt; runFromJSON(data));\n&lt;/script&gt;\n</code></pre>"},{"location":"usage/#EffiBEMViewer-Class","title":"EffiBEMViewer Class","text":"<p>For more control, you can use the <code>EffiBEMViewer</code> class directly:</p> <pre><code>// Create a viewer instance\nconst viewer = new EffiBEMViewer('my-container', {\n  includeGeometryDiagnostics: true\n});\n\n// Load a model from JSON\nviewer.loadFromJSON(gltfData);\n\n// Or load from a URL (returns a Promise)\nviewer.loadFromFile('./model.gltf')\n  .then(() =&gt; console.log('Model loaded'));\n\n// Or load from a File object (e.g., from file input)\nconst fileInput = document.querySelector('input[type=\"file\"]');\nfileInput.addEventListener('change', (e) =&gt; {\n  viewer.loadFromFileObject(e.target.files[0])\n    .then(() =&gt; console.log('Model loaded from file'));\n});\n</code></pre> <p>The class provides access to the Three.js scene, camera, and renderer for advanced customization:</p> <pre><code>const viewer = new EffiBEMViewer('viewer');\nviewer.loadFromJSON(gltfData);\n\n// Access Three.js objects\nconsole.log(viewer.scene);       // THREE.Scene\nconsole.log(viewer.camera);      // THREE.PerspectiveCamera\nconsole.log(viewer.renderer);    // THREE.WebGLRenderer\nconsole.log(viewer.orbitControls); // OrbitControls\n</code></pre>"},{"location":"usage/#Required-HTML-Structure","title":"Required HTML Structure","text":"<p>The viewer expects a container with the <code>effibem-viewer</code> class and specific child elements for controls and info panel. The easiest way to get the correct structure is to use the Python API to generate the HTML, then customize as needed:</p> <pre><code>from effibemviewer import model_to_gltf_html\n\n# Generate HTML with empty/minimal model, then replace the data\nhtml = model_to_gltf_html(model)\n</code></pre> <p>Alternatively, you can create your own container and only include the controls you need. The viewer uses class-based selectors (e.g., <code>.showFloors</code>, <code>.renderBy</code>) rather than IDs, allowing multiple viewers on the same page.</p>"}]}