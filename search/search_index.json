{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#EffiBEM-Viewer","title":"EffiBEM Viewer","text":"<p>A 3D viewer for OpenStudio building energy models using GLTF and Three.js, that can create a standalone HTML page or be embedded into a Jupyter Notebook.</p> <p>A Jupyter Notebook Gltf_notebook.ipynb can serve as a small demonstration of the features.</p> <p></p> <ul> <li>Documentation: https://jmarrec.github.io/effibemviewer</li> <li>GitHub: https://github.com/jmarrec/effibemviewer</li> <li>PyPI: https://pypi.org/project/effibemviewer/</li> </ul> <p>This is free software (MIT License) contributed by EffiBEM.</p> <p>Leveraging software, EffiBEM specializes in providing new ways to streamline your workflows and create new tools that work with limited inputs for your specific applications. We also offer support and training services on BEM simulation engines (OpenStudio and EnergyPlus).</p>"},{"location":"api/","title":"Modules","text":""},{"location":"api/#API-Reference","title":"API Reference","text":""},{"location":"api/#effibemviewer.gltf.create_example_model","title":"<code>create_example_model(include_geometry_diagnostics: bool = False) -&gt; openstudio.model.Model</code>","text":"<p>Create an example OpenStudio model with two stories and optionally geometry diagnostics.</p> <p>Parameters:</p> Name Type Description Default <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, will reverse a surface on purpose</p> <code>False</code> <p>Returns:</p> Name Type Description <code>model</code> <code>Model</code> <p>Example model</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def create_example_model(include_geometry_diagnostics: bool = False) -&gt; openstudio.model.Model:\n    \"\"\"Create an example OpenStudio model with two stories and optionally geometry diagnostics.\n\n    Args:\n        include_geometry_diagnostics: If True, will reverse a surface on purpose\n\n    Returns:\n        model (openstudio.model.Model): Example model\n    \"\"\"\n    model = openstudio.model.exampleModel()\n    space = model.getSpaceByName(\"Space 1\").get()\n    # Move space type assignment from Building to Space, so I can have one without it\n    space_type = space.spaceType().get()\n    [space.setSpaceType(space_type) for space in model.getSpaces()]\n    b = model.getBuilding()\n    b.setNorthAxis(45)\n    b.resetSpaceType()\n\n    space_clone = space.clone(model).to_Space().get()\n    space_clone.setName(\"Space Level 2\")\n    space_clone.resetSpaceType()\n    # Set it above the original space for better viewing\n    z = space.boundingBox().maxZ().get()\n    assert z == 3.0\n    space_clone.setZOrigin(z)\n    story2 = openstudio.model.BuildingStory(model)\n    story2.setName(\"Second Story\")\n    story2.setNominalZCoordinate(z)\n    story2.setNominalFloortoFloorHeight(z)\n    space_clone.setBuildingStory(story2)\n\n    if include_geometry_diagnostics:\n        surface = next(s for s in space_clone.surfaces() if s.surfaceType() == \"Wall\")\n        surface.setVertices(openstudio.reverse(surface.vertices()))  # Make one surface incorrectly oriented\n\n    return model\n</code></pre>"},{"location":"api/#effibemviewer.gltf.display_model","title":"<code>display_model(model: openstudio.model.Model, height: str = '500px', use_iframe: bool = False, include_geometry_diagnostics: bool = False)</code>","text":"<p>Display an OpenStudio model in a Jupyter notebook.</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to render</p> required <code>height</code> <code>str</code> <p>CSS height value (default \"500px\")</p> <code>'500px'</code> <code>use_iframe</code> <code>bool</code> <p>If True, use IFrame for nbclassic compatibility</p> <code>False</code> <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info</p> <code>False</code> <p>Returns:</p> Type Description <p>IPython display object (HTML or IFrame)</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def display_model(\n    model: openstudio.model.Model,\n    height: str = \"500px\",\n    use_iframe: bool = False,\n    include_geometry_diagnostics: bool = False,\n):\n    \"\"\"Display an OpenStudio model in a Jupyter notebook.\n\n    Args:\n        model: OpenStudio model to render\n        height: CSS height value (default \"500px\")\n        use_iframe: If True, use IFrame for nbclassic compatibility\n        include_geometry_diagnostics: If True, include geometry diagnostic info\n\n    Returns:\n        IPython display object (HTML or IFrame)\n    \"\"\"\n    import base64\n\n    from IPython.display import HTML, IFrame\n\n    if use_iframe:\n        full_html = model_to_gltf_html(\n            model=model, height=height, include_geometry_diagnostics=include_geometry_diagnostics\n        )\n        data_url = f\"data:text/html;base64,{base64.b64encode(full_html.encode()).decode()}\"\n        # Parse height for IFrame (needs integer pixels)\n        h = int(height.replace(\"px\", \"\")) if height.endswith(\"px\") else 500\n        return IFrame(src=data_url, width=\"100%\", height=h)\n\n    fragment = model_to_gltf_script(\n        model=model, height=height, include_geometry_diagnostics=include_geometry_diagnostics\n    )\n    return HTML(fragment)\n</code></pre>"},{"location":"api/#effibemviewer.gltf.model_to_gltf_html","title":"<code>model_to_gltf_html(model: openstudio.model.Model, height: str = '100vh', pretty_json: bool = False, include_geometry_diagnostics: bool = False) -&gt; str</code>","text":"<p>Generate a full standalone HTML page for viewing an OpenStudio model.</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def model_to_gltf_html(\n    model: openstudio.model.Model,\n    height: str = \"100vh\",\n    pretty_json: bool = False,\n    include_geometry_diagnostics: bool = False,\n) -&gt; str:\n    \"\"\"Generate a full standalone HTML page for viewing an OpenStudio model.\"\"\"\n    fragment = model_to_gltf_script(\n        model=model, height=height, pretty_json=pretty_json, include_geometry_diagnostics=include_geometry_diagnostics\n    )\n    return f\"&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;/head&gt;&lt;body style='margin:0'&gt;{fragment}&lt;/body&gt;&lt;/html&gt;\"\n</code></pre>"},{"location":"api/#effibemviewer.gltf.model_to_gltf_json","title":"<code>model_to_gltf_json(model: openstudio.model.Model, include_geometry_diagnostics: bool = False) -&gt; dict</code>","text":"<p>Convert an OpenStudio model to GLTF JSON format (dict).</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to convert</p> required <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info in the output</p> <code>False</code> <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>GLTF JSON data representing the model</p> <p>Raises:</p> Type Description <code>ValueError</code> <p>If geometry diagnostics are requested but not supported by the OpenStudio version</p> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def model_to_gltf_json(model: openstudio.model.Model, include_geometry_diagnostics: bool = False) -&gt; dict:\n    \"\"\"Convert an OpenStudio model to GLTF JSON format (dict).\n\n    Args:\n        model: OpenStudio model to convert\n        include_geometry_diagnostics: If True, include geometry diagnostic info in the output\n\n    Returns:\n        dict: GLTF JSON data representing the model\n\n    Raises:\n        ValueError: If geometry diagnostics are requested but not supported by the OpenStudio version\n    \"\"\"\n    ft = openstudio.gltf.GltfForwardTranslator()\n    if include_geometry_diagnostics:\n        if not callable(getattr(openstudio.gltf.GltfForwardTranslator, \"setIncludeGeometryDiagnostics\", None)):\n            raise ValueError(\n                \"Geometry diagnostics not supported in this version of OpenStudio. Please update to use this feature.\"\n            )\n        ft.setIncludeGeometryDiagnostics(True)\n    return ft.modelToGLTFJSON(model)\n</code></pre>"},{"location":"api/#effibemviewer.gltf.model_to_gltf_script","title":"<code>model_to_gltf_script(model: openstudio.model.Model, height: str = '500px', pretty_json: bool = False, include_geometry_diagnostics: bool = False) -&gt; str</code>","text":"<p>Generate HTML/JS fragment to render an OpenStudio model as GLTF.</p> <p>Parameters:</p> Name Type Description Default <code>model</code> <code>Model</code> <p>OpenStudio model to render</p> required <code>height</code> <code>str</code> <p>CSS height value (default \"500px\", use \"100vh\" for full viewport)</p> <code>'500px'</code> <code>pretty_json</code> <code>bool</code> <p>If True, format JSON with indentation</p> <code>False</code> <code>include_geometry_diagnostics</code> <code>bool</code> <p>If True, include geometry diagnostic info</p> <code>False</code> Source code in <code>effibemviewer/gltf.py</code> <pre><code>def model_to_gltf_script(\n    model: openstudio.model.Model,\n    height: str = \"500px\",\n    pretty_json: bool = False,\n    include_geometry_diagnostics: bool = False,\n) -&gt; str:\n    \"\"\"Generate HTML/JS fragment to render an OpenStudio model as GLTF.\n\n    Args:\n        model: OpenStudio model to render\n        height: CSS height value (default \"500px\", use \"100vh\" for full viewport)\n        pretty_json: If True, format JSON with indentation\n        include_geometry_diagnostics: If True, include geometry diagnostic info\n    \"\"\"\n    data = model_to_gltf_json(model=model, include_geometry_diagnostics=include_geometry_diagnostics)\n\n    template = env.get_template(\"gltf_viewer.html.j2\")\n    indent = 2 if pretty_json else None\n    return template.render(\n        height=height,\n        gltf_data=data,\n        indent=indent,\n        include_geometry_diagnostics=include_geometry_diagnostics,\n    )\n</code></pre>"},{"location":"changelog/","title":"Changelog","text":""},{"location":"changelog/#Changelog","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog, and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#Unreleased","title":"Unreleased","text":""},{"location":"changelog/#012---2026-02-05","title":"0.1.2 - 2026-02-05","text":"<ul> <li>docs update</li> </ul>"},{"location":"changelog/#011---2026-02-05","title":"0.1.1 - 2026-02-05","text":"<ul> <li>Readme update</li> </ul>"},{"location":"changelog/#010---2026-02-05","title":"0.1.0 - 2026-02-05","text":""},{"location":"changelog/#Added","title":"Added","text":"<ul> <li>Initial release</li> <li>3D GLTF viewer for OpenStudio models using Three.js</li> <li>Jupyter notebook integration with <code>display_model()</code></li> <li>Surface filters (floors, walls, roofs, windows, doors, shading, partitions)</li> <li>Render by: Surface Type, Boundary, Construction, Thermal Zone, Space Type, Building Story</li> <li>Show Story filter</li> <li>Geometry diagnostics support (convex, correctly oriented, space convex, space enclosed)</li> <li>Click-to-select with info panel</li> <li>Edge/wireframe rendering</li> <li>Back face coloring for orientation detection</li> <li>X, Y, Z axes display</li> </ul>"},{"location":"contributing/","title":"Contributing","text":""},{"location":"contributing/#Contributing","title":"Contributing","text":"<p>Contributions are welcome, and they are greatly appreciated! Every little bit helps, and credit will always be given.</p>"},{"location":"contributing/#Types-of-Contributions","title":"Types of Contributions","text":""},{"location":"contributing/#Report-Bugs","title":"Report Bugs","text":"<p>Report bugs at https://github.com/jmarrec/effibemviewer/issues.</p> <p>If you are reporting a bug, please include:</p> <ul> <li>Your operating system name and version.</li> <li>Any details about your local setup that might be helpful in troubleshooting.</li> <li>Detailed steps to reproduce the bug.</li> </ul>"},{"location":"contributing/#Fix-Bugs","title":"Fix Bugs","text":"<p>Look through the GitHub issues for bugs. Anything tagged with \"bug\" and \"help wanted\" is open to whoever wants to implement it.</p>"},{"location":"contributing/#Implement-Features","title":"Implement Features","text":"<p>Look through the GitHub issues for features. Anything tagged with \"enhancement\" and \"help wanted\" is open to whoever wants to implement it.</p>"},{"location":"contributing/#Write-Documentation","title":"Write Documentation","text":"<p>EffiBEM Viewer could always use more documentation, whether as part of the official docs, in docstrings, or even on the web in blog posts, articles, and such.</p>"},{"location":"contributing/#Submit-Feedback","title":"Submit Feedback","text":"<p>The best way to send feedback is to file an issue at https://github.com/jmarrec/effibemviewer/issues.</p> <p>If you are proposing a feature:</p> <ul> <li>Explain in detail how it would work.</li> <li>Keep the scope as narrow as possible, to make it easier to implement.</li> <li>Remember that this is a volunteer-driven project, and that contributions   are welcome :)</li> </ul>"},{"location":"contributing/#Get-Started","title":"Get Started!","text":"<p>Ready to contribute? Here's how to set up <code>effibemviewer</code> for local development.</p> <ol> <li>Fork the <code>effibemviewer</code> repo on GitHub.</li> <li> <p>Clone your fork locally:</p> <pre><code>$ git clone git@github.com:your_name_here/effibemviewer.git\n</code></pre> </li> <li> <p>Install your local copy using poetry:</p> <pre><code>$ cd effibemviewer/\n$ poetry install\n</code></pre> </li> <li> <p>Create a branch for local development:</p> <pre><code>$ git checkout -b name-of-your-bugfix-or-feature\n</code></pre> </li> </ol> <p>Now you can make your changes locally.</p> <ol> <li> <p>When you're done making changes, check that your changes pass the tests:</p> <pre><code>$ poetry run pytest\n</code></pre> </li> <li> <p>Commit your changes and push your branch to GitHub:</p> <pre><code>$ git add .\n$ git commit -m \"Your detailed description of your changes.\"\n$ git push origin name-of-your-bugfix-or-feature\n</code></pre> </li> <li> <p>Submit a pull request through the GitHub website.</p> </li> </ol>"},{"location":"contributing/#Pull-Request-Guidelines","title":"Pull Request Guidelines","text":"<p>Before you submit a pull request, check that it meets these guidelines:</p> <ol> <li>The pull request should include tests.</li> <li>If the pull request adds functionality, the docs should be updated.</li> <li>The pull request should work for Python 3.10, 3.11, and 3.12.</li> </ol>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#Installation","title":"Installation","text":""},{"location":"installation/#Stable-release","title":"Stable release","text":"<p>To install EffiBEM Viewer, run this command in your terminal:</p> <pre><code>$ pip install effibemviewer\n</code></pre> <p>This is the preferred method to install EffiBEM Viewer, as it will always install the most recent stable release.</p> <p>If you don't have pip installed, this Python installation guide can guide you through the process.</p>"},{"location":"installation/#From-source","title":"From source","text":"<p>The source for EffiBEM Viewer can be downloaded from the Github repo.</p> <p>You can either clone the public repository:</p> <pre><code>$ git clone git://github.com/jmarrec/effibemviewer\n</code></pre> <p>Or download the tarball:</p> <pre><code>$ curl -OJL https://github.com/jmarrec/effibemviewer/tarball/master\n</code></pre> <p>Once you have a copy of the source, you can install it with:</p> <pre><code>$ pip install .\n</code></pre>"},{"location":"usage/","title":"Usage","text":""},{"location":"usage/#Usage","title":"Usage","text":""},{"location":"usage/#In-a-Jupyter-Notebook","title":"In a Jupyter Notebook","text":"<p>To display an OpenStudio model in a Jupyter notebook:</p> <pre><code>import openstudio\nfrom effibemviewer import create_example_model, display_model\n\n# model = openstudio.model.exampleModel()\n# This helper creates a model with an incorrectly oriented surface and two stories\nmodel = create_example_model(include_geometry_diagnostics=True)\ndisplay_model(\n    model=model,\n    height=\"500px\",\n    use_iframe=False,\n    include_geometry_diagnostics=False\n)\n</code></pre> <p>Note: <code>use_iframe=True</code> is not needed unless you are using <code>jupyter nbclassic</code> (and not <code>notebook</code> (V7) or <code>lab</code>)</p> <p>Note: OpenStudio, as of 3.11.0, does NOT export geometry diagnostics in GLTF. I am adding this myself locally, but will upstream my changes.</p>"},{"location":"usage/#Generate-standalone-HTML","title":"Generate standalone HTML","text":"<p>To generate a standalone HTML file:</p> <pre><code>from effibemviewer import model_to_gltf_html\nfrom pathlib import Path\n\nhtml = model_to_gltf_html(model)\nPath(\"viewer.html\").write_text(html)\n</code></pre>"},{"location":"usage/#Command-Line","title":"Command Line","text":"<p>Generate an HTML viewer from the command line:</p> <pre><code>$ python -m effibemviewer --model mymodel.osm --output output.html\n</code></pre> <p>With geometry diagnostics enabled, and when <code>--model</code> is omitted it uses the <code>create_example_model</code></p> <pre><code>$ python -m effibemviewer --geometry-diagnostics --output output.html\n</code></pre>"}]}